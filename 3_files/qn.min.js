!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("QN",[],t):"object"==typeof exports?exports.QN=t():e.QN=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="/build/",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(18),a=n(o),s=r(22),i=n(s),u=r(16),l=n(u),c=r(7),f=n(c),p=r(27),d=n(p),y=r(30),h=n(y),v=r(32),_=n(v),b=r(35),m=n(b),g=r(36),x=n(g),w=r(33),j=r(28),P=r(31),A=n(P),O=f.default.QN_APP,k=f.default.QN_GATEWAY,E=f.default.TOP;a.default.addInvoker(i.default).addInvoker((0,l.default)(O)).addInvoker((0,l.default)(k)).addInvoker((0,l.default)(E)).addInvoker((0,l.default)()),a.default.plug({API_TYPE:f.default,ajax:d.default,microApp:h.default,env:_.default,gateway:m.default,top:x.default,on:w.on,off:w.off,emit:w.emit,regEvent:j.regEvent,unregEvent:j.unregEvent,postEvent:j.postEvent,autoPlug:A.default}),t.default=a.default,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return s.apply(void 0,[e].concat(r)),e}function a(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return(0,p.default)(r,function(t){(0,p.default)(t,function(t,r){return(0,u.default)(t)?(e[r]=(0,u.default)(e[r])?e[r]:[],void a(e[r],t)):(0,c.default)(t)?(e[r]=(0,c.default)(e[r])?e[r]:{},void a(e[r],t)):void(e[r]=t)})}),e}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(8),u=n(i),l=r(44),c=n(l),f=r(2),p=n(f);o.deep=a,t.default=o,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if((0,u.default)(e)&&!(0,c.default)(e)){for(var n in e)if(e.hasOwnProperty(n)&&t.call(r,e[n],n,e)===!1)break}else if((0,s.default)(e.length))for(var o=0;o<e.length&&t.call(r,e[o],o,e)!==!1;o++);}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=r(43),s=n(a),i=r(9),u=n(i),l=r(8),c=n(l);e.exports=t.default},function(e,t,r){function n(e){return null==e?void 0===e?u:i:l&&l in Object(e)?a(e):s(e)}var o=r(17),a=r(39),s=r(40),i="[object Null]",u="[object Undefined]",l=o?o.toStringTag:void 0;e.exports=n},function(e,t,r){function n(e){if(!a(e))return!1;var t=o(e);return t==i||t==u||t==s||t==l}var o=r(3),a=r(9),s="[object AsyncFunction]",i="[object Function]",u="[object GeneratorFunction]",l="[object Proxy]";e.exports=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e={always:function(){var e,t;return(e=this.promise).then.apply(e,arguments),(t=this.promise).catch.apply(t,arguments),this}};return e.promise=new Promise(function(t,r){e.resolve=t,e.reject=r}),e},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(15),i=n(s),u={useAjax:!(i.default.isQianniu||window.workbench),response_style:"h5_style"};t.default={setup:function(e){a.default.deep(u,e)},get:function(e){return e?u[e]:a.default.deep({},u)}},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={QN_APP:"QN.app",QN_GATEWAY:"QN.gateway",QN_JDY:"QN.jdy",TOP:"QN.top",AJAX:"ajax"};t.default=r,e.exports=t.default},function(e,t){var r=Array.isArray;e.exports=r},function(e,t){function r(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=r},function(e,t){function r(e){return null!=e&&"object"==typeof e}e.exports=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=r(1),s=(n(a),r(2)),i=(n(s),r(19)),u=n(i),l=r(4),c=(n(l),function(){function e(t){o(this,e),this.id="",this.api={type:"",alias:"",uri:"",routes:[]},this.middleware={index:0,fn:void 0},this.state=new u.default,this.error=null,this.rawReq=null,this.rawRes=null,this.request={method:"GET",headers:{},query:{},body:null,timeout:!1,settings:{}},this.response={headers:{},body:null},this.callback={},this.__X__=null;var r=this.request,n=this.callback;this.__X__=t.__X__,this.rawReq=t,this.api=t.api,r.method=t.method||"GET",r.headers=t.headers||null,r.query=t.query,r.timeout=t.timeout||!1,r.settings=t.settings,n.success=t.success,n.error=t.error,n.notify=t.notify}return e.prototype.getState=function(e){var t=this.state;"undefined"==typeof e&&(e=this.middleware.fn);var r=t.get(e);return r||(r={},t.set(e,r)),r},e.prototype.destroy=function(){for(var e in this)this.hasOwnProperty(e)&&delete this[e]},e}());t.default=c,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){for(var r=Object.getOwnPropertyNames(t),n=0;n<r.length;n++){var o=r[n],a=Object.getOwnPropertyDescriptor(t,o);a&&a.configurable&&void 0===e[o]&&Object.defineProperty(e,o,a)}return e}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):n(e,t))}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){var t,r;return r=t=function(e){function t(){i(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return a(this,e.call.apply(e,[this].concat(n)))}return s(t,e),t}(h),t.type=e,t.sync=!1,t.middlewares=[],r}Object.defineProperty(t,"__esModule",{value:!0}),t.createInvoker=u;var l=r(20),c=o(l),f=r(5),p=o(f),d=r(11),y=o(d),h=function(){function e(t){i(this,e),this.id=this.uuid(),this.context=null,this.__X__=t.__X__,this.context=new y.default(t),this.constructor.instancePool[this.id]=this}return e.use=function(e){return this.middlewares.push(e),this},e.prototype.uuid=function(){return(0,c.default)()},e.prototype.call=function(){var e=this,t=0,r=this.context,n=this.constructor.middlewares,o=(0,p.default)(),a=function a(s){var i=n[t];if(s&&(r.error=r.error||s),!i)return e.end(o);r.middleware={index:t,fn:i},t++;try{i(r,a)}catch(e){a(e)}};return a(),o.promise},e.prototype.end=function(e){var t=this.context;if(t){var r=t.response,n=t.error,o=t.callback;n?(o.error&&o.error(n),e.reject(n)):(o.success&&o.success(r.body),e.resolve(r.body)),this.destroy()}},e.prototype.destroy=function(){delete this.constructor.instancePool[this.id];for(var e in this)this.hasOwnProperty(e)&&delete this[e]},e}();h.type="",h.sync=!1,h.instancePool={},h.middlewares=[],t.default=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return e[t]=e[t]||[]}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,d.default)(t.sort().reverse(),function(t){e.splice(t,1)})}function i(e){return new TypeError("Event callback for "+e+" must be function.")}function u(e){var t=/^(page|app|global)\.(.+)$/i;t.test(e)||(e="page."+e);var r=e.match(t),n=r[1].toLowerCase(),o=r[2];return{type:n,name:o,value:n+"."+o}}Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=t.slice=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=r(4),f=n(c),p=r(2),d=n(p),y=function(){function e(){o(this,e),this.optionsPool={}}return e.prototype.on=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a(this.optionsPool,e);if((0,f.default)(t)){var o=l({notify:t},r);return n.push(o),Promise.resolve()}var s=i(e);return Promise.reject(s)},e.prototype.off=function(e,t){var r=a(this.optionsPool,e);if(!t)return this.optionsPool[e]=[],Promise.resolve();if((0,f.default)(t)){var n=[];return(0,d.default)(r,function(e,r){e.notify===t&&n.push(r)}),s(r,n),Promise.resolve()}var o=i(e);return Promise.reject(o)},e.prototype.once=function(e,t){return this.on(e,t,{once:!0})},e.prototype.emit=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=a(this.optionsPool,e),i=[];return(0,d.default)(o,function(e,t){(0,f.default)(e.notify)&&e.notify.apply(e,r),e.once&&i.push(t)}),s(o,i),Promise.resolve()},e}();t.slice=u,t.EventEmitter=y},function(e,t){"use strict";function r(e){var t=void 0;try{t=JSON.parse(e)}catch(r){t=e}return t}function n(e){var t=void 0;try{t=JSON.stringify(e)}catch(r){t=e}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.tryParse=r,t.tryStringify=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isQianniu:/(AEF|Qianniu)\/[\d\.]+/i.test(navigator.userAgent)},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"QN",t=(0,a.createInvoker)(e);switch(e){case y:t.use(i.default)}return t.use(l.default).use(f.default),t}Object.defineProperty(t,"__esModule",{value:!0});var a=r(12),s=r(23),i=n(s),u=r(25),l=n(u),c=r(24),f=n(c),p=r(7),d=n(p),y=d.default.QN_GATEWAY;t.default=o,e.exports=t.default},function(e,t,r){var n=r(42),o=n.Symbol;e.exports=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(2),i=n(s),u=r(45),l=(n(u),r(9)),c=n(l),f=r(4),p=n(f),d=r(11),y=(n(d),{}),h={},v={api:{}},_={setup:function(e){return a.default.deep(v,e),this},call:function(e){var t=e.api;e.__X__=this;var r=t.sync?h:y,n=r[t.type],o=new n(e);return o.call()},getApiByAlias:function(e){var t=v.api[e]||null;return t&&(t=(0,a.default)({alias:e},t)),t},addInvoker:function(e){var t=e.sync?h:y;return t[e.type]=e,this},getSyncInvoker:function(e){return h[e]||null},getAsyncInvoker:function(e){return y[e]||null},plug:function e(t,r){function e(e,t){if(!n[t]){var r=(0,p.default)(e)?e(n):e;r&&(n[t]=r)}}var n=this;return(0,c.default)(t)?(0,i.default)(t,e):e(r,t),this}};t.default=_,e.exports=t.default},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r(this,e),this._keys=[],this._values=[],this.size=0,n.forEach(function(e){t._keys.push(e[0]),t._values.push(e[1])}),this.size=n.length}return e.prototype.clear=function(){this._keys=[],this._values=[],this.size=0},e.prototype.delete=function(e){var t=this._keys,r=this._values,n=t.indexOf(e);n<0||(t.splice(n,1),r.splice(n,1),this.size--)},e.prototype.forEach=function(e){for(var t=this._keys,r=this._values,n=0;n<t.length;n++)e(r[n],t[n])},e.prototype.get=function(e){var t=this._keys,r=this._values,n=t.indexOf(e);return r[n]},e.prototype.has=function(e){return Boolean(this._keys.indexOf(e)>=0)},e.prototype.keys=function(){return this._keys.slice()},e.prototype.set=function(e,t){var r=this._keys,n=this._values,o=r.indexOf(e);o=o<0?r.length:o,r[o]=e,n[o]=t,this.size=r.length},e.prototype.values=function(){return this._values.slice()},e}();t.default=n,e.exports=t.default},function(e,t){"use strict";function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,r="x"==e?t:3&t|8;return r.toString(16)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,r){"undefined"!=typeof module&&module.exports?module.exports=r():(__WEBPACK_AMD_DEFINE_FACTORY__=r,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}("reqwest",void 0,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,r){return function(){return e._aborted?r(e.request):e._timedOut?r(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):r(e.request)))}}function setHeaders(e,t){var r,n=t.headers||{};n.Accept=n.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var o="undefined"!=typeof FormData&&t.data instanceof FormData;t.crossOrigin||n[requestedWith]||(n[requestedWith]=defaultHeaders.requestedWith),n[contentType]||o||(n[contentType]=t.contentType||defaultHeaders.contentType);for(r in n)n.hasOwnProperty(r)&&"setRequestHeader"in e&&e.setRequestHeader(r,n[r])}function setCredentials(e,t){"undefined"!=typeof t.withCredentials&&"undefined"!=typeof e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,r,n){var o=uniqid++,a=e.jsonpCallback||"callback",s=e.jsonpCallbackName||reqwest.getcallbackPrefix(o),i=new RegExp("((^|\\?|&)"+a+")=([^&]+)"),u=n.match(i),l=doc.createElement("script"),c=0,f=navigator.userAgent.indexOf("MSIE 10.0")!==-1;return u?"?"===u[3]?n=n.replace(i,"$1="+s):s=u[3]:n=urlappend(n,a+"="+s),context[s]=generalCallback,l.type="text/javascript",l.src=n,l.async=!0,"undefined"==typeof l.onreadystatechange||f||(l.htmlFor=l.id="_reqwest_"+o),l.onload=l.onreadystatechange=function(){return!(l[readyState]&&"complete"!==l[readyState]&&"loaded"!==l[readyState]||c)&&(l.onload=l.onreadystatechange=null,l.onclick&&l.onclick(),t(lastValue),lastValue=void 0,head.removeChild(l),void(c=1))},head.appendChild(l),{abort:function(){l.onload=l.onreadystatechange=null,r({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(l),c=1}}}function getRequest(e,t){var r,n=this.o,o=(n.method||"GET").toUpperCase(),a="string"==typeof n?n:n.url,s=n.processData!==!1&&n.data&&"string"!=typeof n.data?reqwest.toQueryString(n.data):n.data||null,i=!1;return"jsonp"!=n.type&&"GET"!=o||!s||(a=urlappend(a,s),s=null),"jsonp"==n.type?handleJsonp(n,e,t,a):(r=n.xhr&&n.xhr(n)||xhr(n),r.open(o,a,n.async!==!1),setHeaders(r,n),setCredentials(r,n),context[xDomainRequest]&&r instanceof context[xDomainRequest]?(r.onload=e,r.onerror=t,r.onprogress=function(){},i=!0):r.onreadystatechange=handleReadyState(this,e,t),n.before&&n.before(r),i?setTimeout(function(){r.send(s)},200):r.send(s),r)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(e){return error(resp,"Could not parse JSON in response",e)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,r){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=r,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,r);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var r,n,o,a,s=e.name,i=e.tagName.toLowerCase(),u=function(e){e&&!e.disabled&&t(s,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&s)switch(i){case"input":/reset|button|image|file/i.test(e.type)||(r=/checkbox/i.test(e.type),n=/radio/i.test(e.type),o=e.value,(!(r||n)||e.checked)&&t(s,normalize(r&&""===o?"on":o)));break;case"textarea":t(s,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())u(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(a=0;e.length&&a<e.length;a++)e.options[a].selected&&u(e.options[a])}}function eachFormElement(){var e,t,r=this,n=function(e,t){var n,o,a;for(n=0;n<t.length;n++)for(a=e[byTag](t[n]),o=0;o<a.length;o++)serial(a[o],r)};for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,r),n(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,r){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(r)):e[t]=r},arguments),e}function buildParams(e,t,r,n){var o,a,s,i=/\[\]$/;if(isArray(t))for(a=0;t&&a<t.length;a++)s=t[a],r||i.test(e)?n(e,s):buildParams(e+"["+("object"===("undefined"==typeof s?"undefined":_typeof(s))?a:"")+"]",s,r,n);else if(t&&"[object Object]"===t.toString())for(o in t)buildParams(e+"["+o+"]",t[o],r,n);else n(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=__webpack_require__(46)}catch(e){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function e(t){if(t.crossOrigin===!0){var e=context[xmlHttpRequest]?new XMLHttpRequest:null;if(e&&"withCredentials"in e)return e;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},catch:function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,r){e.push({name:t,value:r})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,r=Array.prototype.slice.call(arguments,0);return e=r.pop(),e&&e.nodeType&&r.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,r)},reqwest.toQueryString=function(e,t){var r,n,o=t||!1,a=[],s=encodeURIComponent,i=function(e,t){t="function"==typeof t?t():null==t?"":t,a[a.length]=s(e)+"="+s(t)};if(isArray(e))for(n=0;e&&n<e.length;n++)i(e[n].name,e[n].value);else for(r in e)e.hasOwnProperty(r)&&buildParams(r,e[r],o,i);return a.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(12),a=r(26),s=n(a),i=(0,o.createInvoker)("ajax").use(s.default);t.default=i,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=e.api,n=e.request,o=e.rawReq;n.query={method:r.uri,param:n.query||{},httpMethod:o.method||"GET"},r.routes=["application"],r.uri="invokeJDYGatewayService",t()},e.exports=t.default},function(e,t){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e){var t,n=workbench.createSequenceId(),a=e.module,s=e.api,i=e.query,u=e.method,l=e.accountId,c=e.from,f=e.callback,p=void 0;switch(i=JSON.stringify(i),a){case"top":case"jdy":p=[n,s,i,u];break;case"application":p=[n,s,i,c];break;default:p=[n,s,i]}l&&(l=JSON.stringify(l),p.push(l)),f&&(o[n]=f),(t=workbench[a]).invoke.apply(t,r(p))}Object.defineProperty(t,"__esModule",{value:!0});var o={};if("undefined"!=typeof window){var a=window,s=a.onInvokeNotify;a.onInvokeNotify=function(e,t,r){var n=o[e];s&&s(e,t,r),n&&(n(t,r),delete o[e])}}t.default=function(e,t){var r=e.api,o=e.request,a=e.response,s=e.rawReq,i=r.routes;o.method=s.method||"POST",n({module:i[0],api:r.uri,query:o.query||{},method:o.method,accountId:s.accountId,from:s.from||(workbench.jdy?"qn.pcCommon.0.0":""),callback:function(r,n){e.rawRes=n;try{n=JSON.parse(n)}catch(e){console.warn("[QN-SDK] Native response is not a legal json string.",n)}0===r?a.body=n:e.error=n,t()}})},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(7),a=n(o),s=a.default.QN_APP,i=a.default.TOP;t.default=function(e,t){var r=e.api;if(!r.routes)switch(r.type){case s:r.routes=["application"];break;case i:r.routes=["top"];break;default:r.routes=[r.type.replace(/^QN\./,"")]}t()},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(21),a=n(o);t.default=function(e,t){var r=e.api,n=(e.request,e.response),o=e.rawReq;(0,a.default)({url:r.uri,type:o.type,method:o.method,contentType:o.contentType,headers:o.headers,data:o.data,crossOrigin:o.crossOrigin,withCredentials:o.withCredentials,jsonpCallback:o.jsonpCallback,jsonpCallbackName:o.jsonpCallbackName,success:function(r){e.rawRes=r,n.body=r,t()},error:function(r){e.rawRes=r,e.error=r,t()}})},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var r=e.getApiByAlias(t.url);return t.api=r||{type:e.API_TYPE.AJAX,uri:t.url},e.call(t)}},e.exports=t.default},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(e,t){y[e]||(y[e]=(0,l.default)(),workbench.regEvent(workbench.createSequenceId(),e));var r=y[e];return r.promise.then(function(){return d.on(e,t)})}}function s(e){return function(e,t){return d.off(e,t).then(function(t){var r=d.optionsPool[e];if(r.length>0)return t;var n=h[e]=(0,l.default)();return workbench.unregEvent(workbench.createSequenceId(),e),n.promise})}}function i(e){return function(e,t){return t=(0,c.tryStringify)(t||null),workbench.postEvent(e,t),Promise.resolve()}}Object.defineProperty(t,"__esModule",{value:!0}),t.regEvent=a,t.unregEvent=s,t.postEvent=i;var u=r(5),l=o(u),c=r(14),f=r(13),p=n(f),d=new p.EventEmitter,y={},h={};if("undefined"!=typeof window){var v=window,_=v.onEventNotify;v.onEventNotify=function(e,t,r,n,o){_&&_(e,t,r,n,o),n=(0,c.tryParse)(n);var a=y[t],s=h[t];switch(r){case 0:a&&a.resolve();break;case 1:a&&a.reject(n),delete a[t];break;case 2:d.emit(t,n);break;case 3:s&&s.resolve(),delete y[t],delete h[t];break;case 4:s&&s.reject(n)}}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(6),s=n(a);t.default=function(e){var t={development:"//yungw.daily.taobao.net/gw/invoke/",daily:"//yungw.daily.taobao.net/gw/invoke/",pre:"//yungw.prepub.taobao.com/gw/invoke/",production:"https://qngateway.taobao.com/gw/invoke/"},r={setup:s.default.setup,invoke:function(r){var n=r.query;n=o(n||{},{timestamp:Date.now()});var a=e.getApiByAlias(r.api);return a=a||{type:e.API_TYPE.QN_GATEWAY,uri:r.api},r.api={type:e.API_TYPE.AJAX,uri:t[e.env]+a.uri},r.data=r.query||{},r.crossOrigin=!0,r.withCredentials=!0,e.call(r)}};return r},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(15),a=n(o);t.default=function(e){var t=(document,{invoke:function(t){var r=e.getApiByAlias(t.api);return t.api=r||{type:e.API_TYPE.QN_APP,uri:t.api},e.call(t)},name:a.default.isQianniu?"qianniu":"web"});return t},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return function(t){var r={invoke:function(r){var n=t.getApiByAlias(r.api);return r.api=n||{type:t.API_TYPE["QN_"+e.toUpperCase()],uri:r.api},t.call(r)}};return r}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),s=n(a),i=r(4),u=n(i),l=r(16),c=n(l),f=window,p=document,d={application:!0,top:!0};t.default=function(e){function t(){f.workbench&&(0,s.default)(workbench,function(t,r){if(t&&(0,u.default)(t.invoke)&&!d[r]){var n=e.API_TYPE["QN_"+r.toUpperCase()]="QN."+r;e.addInvoker((0,c.default)(n)),e.plug(r,o(r))}})}if("complete"===p.readyState)t();else{if(!p.addEventListener)return;p.addEventListener("DOMContentLoaded",t)}},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=void 0,n=location,o=n.host,a=n.search;switch(!0){case/(^|\.)(pre|wapa)\./.test(o):case/(\?|&)pre=(1|true)(&|$)/.test(a):r="pre";break;case/\.taobao\.com/.test(o):case/(\?|&)(production|online)=(1|true)(&|$)/.test(a):r="production";break;case/(^|\.)(daily|waptest)\./.test(o):case/(\?|&)daily=(1|true)(&|$)/.test(a):r="daily";break;case/^localhost/.test(o):case/(^|\.)(debug|dev|development|local)\./.test(o):case/(\d+\.){3}\d+/.test(o):case/(\?|&)(debug|dev|development|local)=(1|true)(&|$)/.test(a):r="development";break;default:r="production"}t.default=r,e.exports=t.default},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=/^(page|app|global)\.(.+)$/i;return t.test(e)||(e="Page."+e),e}function s(e){return function(e,t){e=a(e),h[e]||(h[e]=(0,c.default)(),workbench.regScopeEvent(workbench.createSequenceId(),e));var r=h[e];return r.promise.then(function(){y.on(e,t)})}}function i(e){return function(e,t){return e=a(e),y.off(e,t).then(function(t){var r=y.optionsPool[e];if(r.length>0)return t;if(!h[e])return t;var n=v[e]=(0,c.default)();return workbench.unregScopeEvent(workbench.createSequenceId(),e),n.promise})}}function u(e){return function(e,t){return e=a(e),t=(0,f.tryStringify)(t||null),workbench.postEvent(e,t),Promise.resolve()}}Object.defineProperty(t,"__esModule",{value:!0}),t.on=s,t.off=i,t.emit=u;var l=r(5),c=o(l),f=r(14),p=r(13),d=n(p),y=new d.EventEmitter,h={},v={};if("undefined"!=typeof window){var _=window,b=_.onEventNotify;_.onEventNotify=function(e,t,r,n,o){b&&b(e,t,r,n,o),n=(0,f.tryParse)(n);var a=h[t],s=v[t];switch(r){case 0:a&&a.resolve();break;case 1:a&&a.reject(n),delete a[t];break;case 2:y.emit(t,n);break;case 3:s&&s.resolve(),delete h[t],delete v[t];break;case 4:s&&s.reject(n)}}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(6),i=n(s);t.default=function(e){var t={setup:i.default.setup,invoke:function(t){var r=e.getApiByAlias(t.api),n=t.query,o=t.settings;return n=n||{},o=o||{},o=a.default.deep({},i.default.get(),o),t.api=r||{type:e.API_TYPE.QN_GATEWAY,uri:t.api},n.hasOwnProperty("response_style")||(n.response_style=o.response_style),"h5_style"!==n.response_style&&delete n.response_style,e.call(t)}};return t},e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(1),a=n(o),s=r(6),i=n(s),u=r(34),l=n(u),c=r(29),f=n(c);t.default=function(e){var t=(0,l.default)(e),r=(0,f.default)(e),n={setup:i.default.setup,invoke:function(e){var n=a.default.deep({},i.default.get(),e.settings||{}),o=n.useAjax?r:t;return o.invoke(e)}};return n},e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={invoke:function(t){var r=e.getApiByAlias(t.query.method);return t.api=r||{type:e.API_TYPE.TOP,uri:t.query.method},e.call(t)}};return t},e.exports=t.default},function(e,t){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(t,function(){return this}())},function(e,t,r){var n=r(41),o=n(Object.getPrototypeOf,Object);
e.exports=o},function(e,t,r){function n(e){var t=s.call(e,u),r=e[u];try{e[u]=void 0;var n=!0}catch(e){}var o=i.call(e);return n&&(t?e[u]=r:delete e[u]),o}var o=r(17),a=Object.prototype,s=a.hasOwnProperty,i=a.toString,u=o?o.toStringTag:void 0;e.exports=n},function(e,t){function r(e){return o.call(e)}var n=Object.prototype,o=n.toString;e.exports=r},function(e,t){function r(e,t){return function(r){return e(t(r))}}e.exports=r},function(e,t,r){var n=r(37),o="object"==typeof self&&self&&self.Object===Object&&self,a=n||o||Function("return this")();e.exports=a},function(e,t,r){function n(e){return"number"==typeof e||a(e)&&o(e)==s}var o=r(3),a=r(10),s="[object Number]";e.exports=n},function(e,t,r){function n(e){if(!s(e)||o(e)!=i)return!1;var t=a(e);if(null===t)return!0;var r=f.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==p}var o=r(3),a=r(38),s=r(10),i="[object Object]",u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,p=c.call(Object);e.exports=n},function(e,t,r){function n(e){return"string"==typeof e||!a(e)&&s(e)&&o(e)==i}var o=r(3),a=r(8),s=r(10),i="[object String]";e.exports=n},function(e,t){}])});
//# sourceMappingURL=qn.min.js.map