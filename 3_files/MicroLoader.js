!function e(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],n):"object"==typeof exports?exports.MicroLoader=n(require("react"),require("react-dom")):t.MicroLoader=n(t.React,t.ReactDOM)}(window,(function(__WEBPACK_EXTERNAL_MODULE__0__,__WEBPACK_EXTERNAL_MODULE__1__){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./dist/",n(n.s=3)}([function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__0__},function(e,t){e.exports=__WEBPACK_EXTERNAL_MODULE__1__},function(module,__webpack_exports__,__webpack_require__){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0],context=window,httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function e(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function e(t){if(!0===t.crossOrigin){var e=context[xmlHttpRequest]?new XMLHttpRequest:null;if(e&&"withCredentials"in e)return e;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function e(t){return t}};function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n=t.headers||{},r;n.Accept=n.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var o="undefined"!=typeof FormData&&t.data instanceof FormData;for(r in n[contentType]||o||(n[contentType]=t.contentType||defaultHeaders.contentType),n)n.hasOwnProperty(r)&&"setRequestHeader"in e&&e.setRequestHeader(r,n[r])}function setCredentials(e,t){void 0!==t.withCredentials&&void 0!==e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var o=uniqid++,a=e.jsonpCallback||"callback",i=e.jsonpCallbackName||reqwest.getcallbackPrefix(o),s=new RegExp("((^|\\?|&)"+a+")=([^&]+)"),c=r.match(s),u=doc.createElement("script"),l=0,p=-1!==navigator.userAgent.indexOf("MSIE 10.0");return c?"?"===c[3]?r=r.replace(s,"$1="+i):i=c[3]:r=urlappend(r,a+"="+i),context[i]=generalCallback,u.type="text/javascript",u.src=r,u.async=!0,void 0===u.onreadystatechange||p||(u.htmlFor=u.id="_reqwest_"+o),u.onload=u.onreadystatechange=function(){if(u[readyState]&&"complete"!==u[readyState]&&"loaded"!==u[readyState]||l)return!1;u.onload=u.onreadystatechange=null,u.onclick&&u.onclick(),t(lastValue),lastValue=void 0,head.removeChild(u),l=1},head.appendChild(u),{abort:function e(){u.onload=u.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(u),l=1}}}function getRequest(e,t){var n=this.o,r=(n.method||"GET").toUpperCase(),o="string"==typeof n?n:n.url,a=!1!==n.processData&&n.data&&"string"!=typeof n.data?reqwest.toQueryString(n.data):n.data||null,i,s=!1;return"jsonp"!=n.type&&"GET"!=r||!a||(o=urlappend(o,a),a=null),"jsonp"==n.type?handleJsonp(n,e,t,o):((i=n.xhr&&n.xhr(n)||xhr(n)).open(r,o,!1!==n.async),setHeaders(i,n),setCredentials(i,n),context[xDomainRequest]&&i instanceof context[xDomainRequest]?(i.onload=e,i.onerror=t,i.onprogress=function(){},s=!0):i.onreadystatechange=handleReadyState(this,e,t),n.before&&n.before(i),s?setTimeout((function(){i.send(a)}),200):i.send(a),i)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(e){return error(resp,"Could not parse JSON in response",e)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}fn=fn||function(){},o.timeout&&(this.timeout=setTimeout((function(){timedOut()}),o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push((function(){o.error.apply(o,arguments)})),o.complete&&this._completeHandlers.push((function(){o.complete.apply(o,arguments)})),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n=e.name,r=e.tagName.toLowerCase(),o=function e(r){r&&!r.disabled&&t(n,normalize(r.attributes.value&&r.attributes.value.specified?r.value:r.text))},a,i,s,c;if(!e.disabled&&n)switch(r){case"input":/reset|button|image|file/i.test(e.type)||(a=/checkbox/i.test(e.type),i=/radio/i.test(e.type),s=e.value,(!a&&!i||e.checked)&&t(n,normalize(a&&""===s?"on":s)));break;case"textarea":t(n,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())o(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(c=0;e.length&&c<e.length;c++)e.options[c].selected&&o(e.options[c])}}function eachFormElement(){var e=this,t,n,r=function t(n,r){var o,a,i;for(o=0;o<r.length;o++)for(i=n[byTag](r[o]),a=0;a<i.length;a++)serial(i[a],e)};for(n=0;n<arguments.length;n++)/input|select|textarea/i.test((t=arguments[n]).tagName)&&serial(t,e),r(t,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply((function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n}),arguments),e}function buildParams(e,t,n,r){var o,a,i,s=/\[\]$/;if(isArray(t))for(a=0;t&&a<t.length;a++)i=t[a],n||s.test(e)?r(e,i):buildParams(e+"["+("object"===_typeof(i)?a:"")+"]",i,n,r);else if(t&&"[object Object]"===t.toString())for(o in t)buildParams(e+"["+o+"]",t[o],n,r);else r(e,t)}Reqwest.prototype={abort:function e(){this._aborted=!0,this.request.abort()},retry:function e(){init.call(this,this.o,this.fn)},then:function e(t,n){return t=t||function(){},n=n||function(){},this._fulfilled?this._responseArgs.resp=t(this._responseArgs.resp):this._erred?n(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(t),this._errorHandlers.push(n)),this},always:function e(t){return this._fulfilled||this._erred?t(this._responseArgs.resp):this._completeHandlers.push(t),this},fail:function e(t){return this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(t),this},catch:function e(t){return this.fail(t)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply((function(t,n){e.push({name:t,value:n})}),arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return(e=n.pop())&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),(t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString).apply(null,n)},reqwest.toQueryString=function(e,t){var n,r,o=t||!1,a=[],i=encodeURIComponent,s=function e(t,n){n="function"==typeof n?n():null==n?"":n,a[a.length]=i(t)+"="+i(n)};if(isArray(e))for(r=0;e&&r<e.length;r++)s(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],o,s);return a.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){for(var t in e=e||{})globalSetupOptions[t]=e[t]},__webpack_exports__.a=reqwest},function(e,t,n){n(4),e.exports=n(5)},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"loadMountMicroMod",(function(){return Re})),n.d(t,"loadMicroMod",(function(){return Ce})),n.d(t,"loadMicroApp",(function(){return je}));var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(2),c;function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=null;function p(e){l=e}var d=window.history.pushState,f=window.history.replaceState,m=window.addEventListener,h=window.removeEventListener,y;!function(e){e.POPSTATE="popstate",e.HASHCHANGE="hashchange"}(y||(y={}));var v=[y.HASHCHANGE,y.POPSTATE],w=(u(c={},y.POPSTATE,[]),u(c,y.HASHCHANGE,[]),c),_;function g(){var e=this;l&&(Object.keys(w).forEach((function(t){var n=w[t];n.length&&n.forEach((function(t){t.call(e,l)}))})),l=null)}function E(e){_=e}function b(e,t){try{_&&_()}catch(e){}g()}function S(e,t){var n;try{n=new PopStateEvent("popstate",{state:e})}catch(t){(n=document.createEvent("PopStateEvent")).initPopStateEvent("popstate",!1,!1,e)}return n}function x(e,t){return!!Array.isArray(e)&&e.filter((function(e){return e===t})).length>0}function P(e,t){return x(w[e],t)}function A(e,t){w[e].push(t)}function R(e,t){w[e]=w[e].filter((function(e){return e!==t}))}var q=function e(t,n,r){p(t),b(n,r)},C=function e(t){p(t),b(location.href,t.type)},j=null,O=function e(){window.history.pushState=function(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];d.apply(window.history,[e,t,n].concat(o));var i="pushState";q(S(e,i),n,i)},window.history.replaceState=function(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),a=3;a<r;a++)o[a-3]=arguments[a];f.apply(window.history,[e,t,n].concat(o));var i="replaceState";q(S(e,i),n,i)},window.addEventListener("popstate",C,!1),window.addEventListener("hashchange",C,!1)},H=function e(){window.history.pushState=d,window.history.replaceState=f,window.removeEventListener("popstate",C,!1),window.removeEventListener("hashchange",C,!1)},T=function e(){window.addEventListener=function(e,t){if(!("function"==typeof t&&v.indexOf(e)>=0)||P(e,t)){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return m.apply(window,[e,t].concat(r))}A(e,t)},window.removeEventListener=function(e,t){if(!("function"==typeof t&&v.indexOf(e)>=0)){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return h.apply(window,[e,t].concat(r))}R(e,t)}},M=function e(){window.addEventListener=m,window.removeEventListener=h};function L(){if("undefined"!=typeof window&&window.QN_WORKBENCH_CFG)return"prepub"===window.QN_WORKBENCH_CFG.env?1:0;if("undefined"!=typeof location){var e,t=location.host;if(/^pre-sellerhome-myseller.taobao.com/.test(t)||/\.wapa\./.test(t)||/localhost/.test(t))return 1}return 0}var N,k=1===L(),X=!k,D=navigator.userAgent.indexOf("Qianniu")>0;function I(){return D?"https://login.taobao.com/member/login.jhtml?from=&f=top&style=&sub=true&redirect_url=".concat(encodeURIComponent(location.href)):"https://".concat(k?"pre-loginmyseller.taobao.com":"loginmyseller.taobao.com","?from=&f=top&style=&sub=true&redirect_url=").concat(encodeURIComponent(location.href));var e}function U(){location.href=I()}var F=window.localStorage,K;function W(e){try{return JSON.stringify(e)}catch(e){}return""}function z(e){if(e)try{return JSON.parse(e)}catch(e){}}function Q(e,t){try{F.setItem(e,W(t))}catch(e){}}function B(e){return z(F.getItem(e))}function V(e){F.removeItem(e)}function G(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=B(e);if(t)return null==n?void 0:n.data;if(n){var r=n.data,o=n.expire,a=void 0===o?0:o,i=n.dt,s=void 0===i?0:i,c=Date.now()-s;if(c>=a)return;return r}}function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:864e5,r={data:t,expire:n,dt:Date.now()};Q(e,r)}function J(e){return e.withCredentials=!0,e.type=e.type||"json",e.url=e.url,e.data=e.data?e.data:{},new Promise((function(t,n){Object(s.a)(e).then((function(e){t(e)})).catch((function(e){n(e)}))}))}var Y={};function Z(e){var t=Y[e];if(t)return t;var n=document.cookie.match("(?:^|;)\\s*"+e+"=([^;]*)");return Y[e]=n&&n[1]?decodeURIComponent(n[1]):"",Y[e]}function ee(){var e=Z("_nk_")||Z("tracknick")||Z("sn")||"";return unescape(e.replace(/\\u/g,"%u"))}function te(e,t){if(null==t||!e)return"";var n=e,r=n.length-1;return"/"===n.charAt(r)&&(n=n.substring(0,r)),t[n.toLowerCase()]}var ne={};function re(e,t,n,r){var o=ee(),a;window.AES&&(window.AES.setConfig({pid:"newqnworkbench-".concat(e),uid:"",dim1:e,dim4:1,username:o}),se()),ne=t.reduce((function(e,t){var r="".concat(n).concat(t.path),o=r.length-1;return"/"===r.charAt(o)&&(r=r.substring(0,o)),e[r.toLowerCase()]=t.spmb,e}),{}),ie(te(location.pathname,ne)),E((function(){var e;ie(te(location.pathname,ne)),se(),r&&r()})),O(),T()}var oe="",ae;function ie(e){try{if(!oe){var t=document.querySelector("meta[name=data-spm]");t&&(oe=t.getAttribute("content")||"")}if(window.goldlog){var n,r=window.goldlog;r.setPageSPM(oe,e),r.sendPV({is_auto:!1})}}catch(e){}}function se(){try{window.AESPluginPV&&window.AESPluginPV.sendPV()}catch(e){}}function ce(e){return new Promise((function(t,n){if(e.url.endsWith(".js")){var r=document.createElement("script");r.src=e.url,r.type="text/javascript",r.async=!0,r.crossOrigin="anonymous",r.onload=function(){console.log("Dynamic Script Loaded: ".concat(e.url)),t({element:r,url:e.url})},r.onerror=function(){console.error("Dynamic Script Error: ".concat(e.url)),n(!1)},document.head.appendChild(r)}if(e.url.endsWith(".css")){var o=document.createElement("link");o.href=e.url,o.rel="stylesheet",o.onload=function(){console.log("Dynamic Script Loaded: ".concat(e.url)),t({element:o,url:e.url})},o.onerror=function(){console.error("Dynamic Script Error: ".concat(e.url)),n(!1)},document.head.appendChild(o)}}))}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae.CLK,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];try{var r=window.AESPluginEvent;r&&r(e,Object.assign({et:t},(n||[]).splice(0,6).reduce((function(e,t,n){return e["c".concat(n+1)]=t,e}),{})))}catch(e){}}!function(e){e.EXP="EXP",e.CLK="CLK",e.SLD="SLD",e.SYS="SYS",e.OTHER="OTHER"}(ae||(ae={}));var le="11320@taobao_WEB_0.0.9";function pe(e){if(!e)return"";var t,n=e.match(/\:\:(.*)/);return n&&n[1]?n[1]:""}function de(e){try{if(!e)return"";var t,n=e.match(/(.*)\:\:/);return n&&n[1]?n[1]:""}catch(e){}return""}var fe=null===(K=null===window||void 0===window?void 0:window.lib)||void 0===K?void 0:K.mtop,me,he=(fe||{}).RESPONSE_TYPE,ye,ve;function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return fe?new Promise((function(n,r){var o=Object.assign({ttid:le,v:"1.0",type:"GET",timeout:2e4,dataType:"json",isSec:0,ecode:0},e);fe.request(o,(function(e){n({success:!0,header:e.responseHeaders,data:e.data})}),(function(o){var a;if(o){var i,s=o&&o.ret[0]||o&&o.data&&o.data.errorMsg,c;if(s&&(a=s),0===t&&("FAIL_SYS_TOKEN_EXOIRED"===(c=de(s))||"FAIL_SYS_TOKEN_EMPTY"===c))return ue("workben_mtop_retry",ae.EXP,[e.api,"GET",c]),we(e,t+1).then((function(e){return n(e)}),(function(e){return r(e)}));switch(o.retType){case he.TOKEN_EXPIRED:a=pe(s)||"\u4ee4\u724c\u8fc7\u671f",U();break;case he.SESSION_EXPIRED:a=pe(s)||"\u767b\u5f55\u8fc7\u671f",U();break;default:a=pe(s)}}return r({message:a||"\u672a\u77e5\u9519\u8bef"})}))})):Promise.reject(new Error("mtop\u672a\u5f15\u5165"))}function _e(e,t,n){var r="microapp_".concat(e,"_").concat(t),o=n||(X?"https://shattrath-config.taobao.com":"https://shattrath-config.wapa.taobao.com");ue("qn-index-er",ae.EXP,[ye.ER_REQUEST,e]);var a=Date.now();return J({url:"https://".concat(o,"/").concat(e,"/").concat(t,"/app-info?t=").concat(Date.now())}).then((function(n){return n&&(null==n?void 0:n.containerName)===e?n:(ue("qn-index-er",ae.EXP,[ye.ER_MTOP,e,"\u5bb9\u5668\u4e0d\u5339\u914d\u3010".concat(e,"\u3011=> \u3010").concat(null==n?void 0:n.containerName,"\u3011")]),console.log("\u3010ER in (mtop for CONTAINER_NAME_ERROR\u3011"),ge(e,t))}),(function(n){return ue("qn-index-er",ae.EXP,[ye.ER_MTOP,e,"ER\u8bf7\u6c42\u5931\u8d25:"+n.message]),ge(e,t)})).then((function(t){return ue("qn-index-er",ae.EXP,[ye.SUCCESS,e,0,Date.now()-a]),t}),(function(t){var n=Date.now()-a,o=G(r,!0);return o?(ue("qn-index-er",ae.EXP,[ye.SUCCESS,e,1,n]),o):(ue("qn-index-er",ae.EXP,[ye.FAIL,e,t.message||t,0]),Promise.reject(t))}))}function ge(e,t){return fe?we({api:"mtop.aliyun.fc.api.loginOptional",data:{fcGroup:"mc-center",fcName:"disasterRecoveryController-handleDisaster",fcArgs:'{"containerName":"'.concat(e,'","appName":"').concat(t,'"}')}}).then((function(e){var t,n;return e.success&&e.data&&e.data.success?null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.model:Promise.reject(new Error((null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.message)||"\u672a\u77e5\u9519\u8bef"))})):Promise.reject(new Error("\u65e0\u6cd5mtop\u8fdb\u884c\u515c\u5e95"))}function Ee(e){}!function(e){e[e.ER_REQUEST=0]="ER_REQUEST",e[e.ER_MTOP=1]="ER_MTOP",e[e.SUCCESS=2]="SUCCESS",e[e.FAIL=3]="FAIL"}(ye||(ye={})),function(e){e[e.top=0]="top",e[e.bottom=1]="bottom"}(ve||(ve={}));var be=function e(t){var n=document.body,o=Object(r.useMemo)((function(){return document.createElement("div")}),[]);Object(r.useEffect)((function(){return n.appendChild(o),function(){n.removeChild(o)}}),[]);var i=t.direction,s=void 0===i?ve.bottom:i;return o.className="fixorkbenchcontainer ".concat(s===ve.bottom?"fixorkbenchcontainer-bottom":"fixorkbenchcontainer-top"),Object(a.createPortal)(t.children,o)},Se,xe;function Pe(e){return e instanceof HTMLElement?e:document.getElementById(e)}function Ae(e){window.addEventListener("message",(function(t){var n={};try{n=JSON.parse(t.data)}catch(e){console.warn("[parse postMessage data error]",e.message)}if("startListenPushRoute"===n.action&&(xe=Se),"stopListenPushRoute"===n.action&&(xe=void 0),"pushRoute"===n.action){var r=n.data;if(null==r?void 0:r.url){var o=window.location.pathname;window.history.pushState(void 0,void 0,o.replace(new RegExp("".concat(e,"(.*)$")),"".concat(e).concat(r.url)))}}}))}function Re(e){var t=e.microModName,n=e.version,r=e.cdnHost,o=e.moduleName,a=e.container,i=e.moduleProps,s=n.split(".").join("_"),c=t.replace(/-/g,"_");return window["".concat(c,"$").concat(s,"_public_path")]="https://".concat(r,"/merchant-micro-mods/").concat(t,"/").concat(n,"/"),ce({url:"https://".concat(r,"/merchant-micro-mods/").concat(t,"/").concat(n,"/js/remoteEntry.js")}).then((function(){window["".concat(c,"$").concat(s)].get(o).then((function(e){e().default(Object.assign({mountEl:Pe(a)},i))})),ue("loader_micro_mountmoduleinfo",ae.EXP,[0,t,o,n])}),(function(e){ue("loader_micro_mountmoduleinfo",ae.EXP,[1,t,o,n,e&&e.message?e.message:e])}))}var qe=function e(t){return t.replace(/[_.-](\w|$)/g,(function(e,t){return t.toUpperCase()})).replace(/^[a-z]/g,(function(e){return e.toUpperCase()}))};function Ce(e){var t=e.microModName,n=e.version,r=e.cdnHost,a=e.moduleName,s=e.container,c=e.moduleProps,u=["qnWorkbench-microMods-recommendation","qnWorkbench-microMods-Profile","qnWorkbench-microMods-PreShopBanner","qnWorkbench-microMods-SignInMod"],l=n.split(".").join("_"),p=u.find((function(e){return e===t}))?qe(t):t.replace(/-/g,"_");window["".concat(p,"$").concat(l,"_public_path")]="https://".concat(r,"/merchant-micro-mods/").concat(t,"/").concat(n,"/"),ce({url:"https://".concat(r,"/merchant-micro-mods/").concat(t,"/").concat(n,"/js/remoteEntry.js")}).then((function(){window["".concat(p,"$").concat(l)].get(a).then((function(e){try{var r=e().default;i.a.render(o.a.createElement(r,Object.assign({},c)),Pe(s)),ue("loader_micro_moduleinfo",ae.EXP,[0,t,a,n])}catch(e){ue("loader_micro_moduleinfo",ae.EXP,[3,t,a,n,e&&e.message?e.message:e])}}),(function(e){ue("loader_micro_moduleinfo",ae.EXP,[2,t,a,n,e&&e.message?e.message:e])}))}),(function(e){ue("loader_micro_moduleinfo",ae.EXP,[1,t,a,n,e&&e.message?e.message:e])}))}function je(e){var t=e.microAppName,n=e.microAppVersion,r=e.container,o=e.frameworkApi,a=e.infoCdn,i=void 0===a?"shattrath-config.taobao.com":a,s=e.basename,c=e.microContainer,u=void 0===c?"qianniu":c,l=e.hasHead,p=e.headMountEl,d=e.headVersion,f=e.headCdnHost;window.ICESTARK=window.ICESTARK||{},window.ICESTARK.root=!0,window.ICESTARK.basename=s,_e(u,t,i).then((function(e){if(null!=e){var a=(null==e?void 0:e.data)||{};if(l&&d&&p)try{var i=a.appDisplayName||a.appName;Re({microModName:"qn_header",version:d,cdnHost:f,moduleName:"Header",container:"qn_header",moduleProps:{scene:a.appScene||t,name:i,title:a.appDisplayName||""}}).then((function(){He(a,u,t,r,s,o,n)}),(function(){He(a,u,t,r,s,o,n)}))}catch(e){}else He(a,u,t,r,s,o,n)}else ue("loader_micro_appinfo",ae.EXP,[3,u,t,"\u8fd4\u56de\u6570\u636e\u4e3a\u7a7a"])}),(function(e){ue("loader_micro_appinfo",ae.EXP,[1,u,t,e&&e.message?e.message:e])}))}function Oe(e,t){return t?e.replace(/merchant-micro-apps\/(.+)\/(\d+\.\d+\.\d+)/,(function(e,n,r){return"merchant-micro-apps/".concat(n,"/").concat(t)})):e}function He(e,t,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=arguments.length>6?arguments[6]:void 0,s=(null==e?void 0:e.configContent)||{},c=s.microAppAssets,u=void 0===c?{}:c,l=s.microAppMods,p=u.urls,d=void 0===p?[]:p,f=u.pages,m=void 0===f?[]:f;null!=d&&0!==d.length?Promise.all(d.map((function(e){return ce({url:Oe(e,i)})}))).then((function(){try{var e=window.location.search.indexOf("listenPushRoute")>-1,i=window.QMSDynamicComponentInventory[n],s=function e(){i.mount({container:Pe(r),customProps:{microModsCollection:l,routerProps:{basename:o},frameworkApi:Object.assign({pushMenu:function e(t){var n=t&&t.path;window.open("https://qn.taobao.com/home.html/".concat(n),"_top")},FixPortalContainer:be,registerRequestResponseParser:function e(){}},a)}})};s(),Se=s,Ae(n),re(n,m,o,e?Se:void 0),ue("loader_micro_appinfo",ae.EXP,[0,t,n])}catch(e){ue("loader_micro_appinfo",ae.EXP,[5,t,n,e&&e.message?e.message:e])}}),(function(e){ue("loader_micro_appinfo",ae.EXP,[2,t,n,e&&e.message?e.message:e])})):ue("loader_micro_appinfo",ae.EXP,[4,t,n,"urls\u4e3a\u7a7a"])}}])}));